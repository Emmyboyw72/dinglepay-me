<!DOCTYPE html>
<html>
<head>
  <title>üß† Quiz Master</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #fffdf7; text-align: center; }
    .question { margin-bottom: 20px; font-size: 18px; }
    .option {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      border: 1px solid #00b96b;
      background: white;
      color: #00b96b;
      border-radius: 8px;
      cursor: pointer;
      width: 70%;
    }
    .option:hover {
      background: #00b96b;
      color: white;
    }
    input, button {
      padding: 10px;
      margin: 10px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
    }
    button {
      background: #00b96b;
      color: white;
    }
  </style>
</head>
<body>
  <h2>üß† Quiz Master</h2>
  <p>Stake ‚Ç¶100+ to answer and win ‚Ç¶200!</p>
  <input type="number" id="stake" placeholder="Enter stake"><br>
  <button onclick="startQuiz()">Start Quiz</button>

  <div id="quizBox" style="display:none;">
    <div id="question" class="question"></div>
    <div id="options"></div>
  </div>

  <h3 id="result"></h3>
  <p><a href="dashboard.html">‚¨Ö Back to Dashboard</a></p>

<script>
let currentQuestion = 0;
let stake = 0;

const questions = [
  {
    q: "What is the capital of Nigeria?",
    options: ["Lagos", "Abuja", "Kano"],
    answer: "Abuja"
  },
  {
    q: "Who discovered electricity?",
    options: ["Isaac Newton", "Albert Einstein", "Benjamin Franklin"],
    answer: "Benjamin Franklin"
  },
  {
    q: "Which planet is closest to the sun?",
    options: ["Mercury", "Venus", "Mars"],
    answer: "Mercury"
  },
  {
    q: "2 + 5 √ó 2 = ?",
    options: ["14", "12", "10"],
    answer: "12"
  },
  {
    q: "What language is primarily used for web pages?",
    options: ["Python", "HTML", "Java"],
    answer: "HTML"
  }
];

function getBalance() {
  return parseFloat(localStorage.getItem("balance") || "20000");
}
function setBalance(val) {
  localStorage.setItem("balance", val.toFixed(3));
}
function saveToHistory(msg) {
  let logs = JSON.parse(localStorage.getItem("history") || "[]");
  logs.unshift({ text: msg, time: new Date().toLocaleString() });
  localStorage.setItem("history", JSON.stringify(logs));
}

function startQuiz() {
  stake = parseFloat(document.getElementById("stake").value);
  if (isNaN(stake) || stake < 100) return alert("Minimum stake is ‚Ç¶100");
  if (stake > getBalance()) return alert("Insufficient balance");

  setBalance(getBalance() - stake);
  currentQuestion = Math.floor(Math.random() * questions.length);
  showQuestion();
}

function showQuestion() {
  const q = questions[currentQuestion];
  document.getElementById("quizBox").style.display = "block";
  document.getElementById("question").textContent = q.q;
  const opts = q.options.map(opt =>
    `<button class="option" onclick="checkAnswer('${opt}')">${opt}</button>`
  ).join("");
  document.getElementById("options").innerHTML = opts;
}

function checkAnswer(selected) {
  const correct = questions[currentQuestion].answer;
  if (selected === correct) {
    const reward = stake * 2;
    setBalance(getBalance() + reward);
    document.getElementById("result").textContent = `üéâ Correct! You won ‚Ç¶${reward.toFixed(2)}!`;
    saveToHistory(`‚úÖ Quiz Win: ‚Ç¶${reward.toFixed(2)} from ‚Ç¶${stake}`);
  } else {
    document.getElementById("result").textContent = `‚ùå Wrong answer. You lost ‚Ç¶${stake.toFixed(2)}.`;
    saveToHistory(`‚ùå Quiz Loss: ‚Ç¶${stake}`);
  }
  document.getElementById("quizBox").style.display = "none";
}
</script>
</body>
</html>